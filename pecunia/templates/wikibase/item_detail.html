{% extends "base.html" %}
{% load static %}
{% load pecunia_tags %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% block content %}
    <script type="module" src="{% static "pecunia/js/wikibase/wikibase.js" %}"></script>
    <h1 data-item-id="{{ item.display_id }}">Item Q{{ item.display_id }}</h1>
    <div class="item-content" >
        <table>
            <tr>
                <th>{% trans "global.language_code" %}</th>
                <th>{% trans "form.entity.label" %}</th>
                <th>{% trans "form.entity.description" %}</th>

                {% if user.is_authenticated %}
                    <th>{% trans "global.action" %}</th>
                {% endif %}
            </tr>
            <tr>
                <td>en</td>
                <td>{{ item|label:"en" }}</td>
                <td>{{ item|description:"en" }}</td>

                {% if user.is_authenticated %}
                    <td><a class="button progressive"
                           href='{% url "item_updatelabeldescription" item.display_id "en" %}'>{% trans "global.edit" %}</a>
                    </td>
                {% endif %}
            </tr>
            <tr>
                <td>fr</td>
                <td>{{ item|label:"fr" }}</td>
                <td>{{ item|description:"fr" }}</td>

                {% if user.is_authenticated %}
                    <td>
                        <a class="button progressive"
                           href='{% url "item_updatelabeldescription" item.display_id "fr" %}'>{% trans "global.edit" %}</a>
                    </td>
                {% endif %}
            </tr>
        </table>
        <div id="app-statement" class="statements" data-item-id="{{ item.display_id }}">
            {% for prop, statement in statements %}
                {% include "wikibase/widgets/property_table.html" %}
            {% endfor %}

            {% if user.is_authenticated %}
                <a id="btn-new-statement" class="button progressive" href="#">{% trans "global.statement.new" %}</a>
            {% endif %}
        </div>
        {% if linked_items|length != 0 %}
            <p>This item is used by:</p>
            <ul>
                {% for linked_item in linked_items %}
                    <li><a href='{% url 'item_display' linked_item.display_id %}'>Q{{ linked_item.display_id }}</a></li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endblock %}