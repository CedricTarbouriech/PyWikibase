{% extends "base.html" %}
{% load pecunia_tags %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% block content %}
    <h1>{% trans "form.document.list_title" %}</h1>
    {% if user.is_authenticated %}
        <a class="button" href='{% url "document_create" %}'>{% trans "form.document.new" %}</a>
    {% endif %}
    <table>
        <tr>
            <th>{% trans "form.document.title" %}</th>
            <th>{% trans "form.document.description" %}</th>
            <th>{% trans "global.action" %}</th>
        </tr>
        {% for item in items %}
            <tr>
                <td>{{ item|label:LANGUAGE_CODE }}</td>
                <td>{{ item|description:LANGUAGE_CODE }}</td>
                <td>
                    <a class="button" disabled="true"
                       href='{% url "document_display" item.display_id %}'>{% trans "global.see" %}</a>

                    {% if user.is_authenticated %}
                        <a class="button" href='{% url "document_update_metadata" item.display_id %}'>
                            {% trans "document.edit.metadata" %}
                        </a>
                        <a class="button" href='{% url "document_update_text" item.display_id %}'>
                            {% trans "document.edit.text" %}
                        </a>
                        <a class="button"
                           href='{% url "document_delete" item.display_id %}'>{% trans "global.delete" %}</a>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}